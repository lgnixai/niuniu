import{d as D,x as R,f as $,n as L,r as j,h,c as I,e as a,w as o,a as c,t as s,u as l,i as d,q as t,R as M,s as U,a5 as v,E as S,L as q,K,M as W,a7 as Y,ad as A,ae as G,W as H,Y as J}from"./index-6405d5ac.js";/* empty css                   *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{g as O,d as Q,i as X}from"./delivery-4a99616b.js";const Z={class:"main-container"},ee={class:"flex justify-between items-center"},te={class:"detail-head !m-0"},ae={class:"right"},ne={class:"mt-[10px]"},oe={class:"mt-[16px] flex justify-end"},ke=D({__name:"company",setup(le){const x=R(),f=$(),C=x.meta.title,e=L({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{company_name:"",logo:"",url:"",create_time:"",modify_time:""}}),y=j(),m=(r=1)=>{e.loading=!0,e.page=r,O({page:e.page,limit:e.limit,...e.searchParam}).then(n=>{e.loading=!1,e.data=n.data.data,e.total=n.data.total}).catch(()=>{e.loading=!1})};m();const b=()=>{f.push("/fengchao/order/delivery/company_add")},k=r=>{f.push("/fengchao/order/delivery/company_edit?company_id="+r.company_id)},E=r=>{v.confirm(t("companyDeleteTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{Q(r).then(()=>{m()}).catch(()=>{})})},w=()=>{v.confirm(t("companyInitDataTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{X().then(()=>{m()}).catch(()=>{})})},B=r=>{r&&(r.resetFields(),m())};return(r,n)=>{const p=S,_=q,T=K,N=W,g=Y,u=A,P=G,z=H,F=J;return h(),I("div",Z,[a(g,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[c("div",ee,[c("div",te,[c("span",ae,s(l(C)),1)]),a(_,null,{default:o(()=>[a(p,{type:"primary",onClick:b},{default:o(()=>[d(s(l(t)("addCompany")),1)]),_:1}),a(p,{onClick:w},{default:o(()=>[d(s(l(t)("initCompany")),1)]),_:1})]),_:1})]),a(g,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:o(()=>[a(N,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:y},{default:o(()=>[a(_,{label:l(t)("companyName"),prop:"company_name"},{default:o(()=>[a(T,{modelValue:e.searchParam.company_name,"onUpdate:modelValue":n[0]||(n[0]=i=>e.searchParam.company_name=i),modelModifiers:{trim:!0},placeholder:l(t)("companyNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,null,{default:o(()=>[a(p,{type:"primary",onClick:n[1]||(n[1]=i=>m())},{default:o(()=>[d(s(l(t)("search")),1)]),_:1}),a(p,{onClick:n[2]||(n[2]=i=>B(y.value))},{default:o(()=>[d(s(l(t)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c("div",ne,[M((h(),U(P,{data:e.data,size:"large"},{empty:o(()=>[c("span",null,s(e.loading?"":l(t)("emptyData")),1)]),default:o(()=>[a(u,{prop:"company_name",label:l(t)("companyName"),"min-width":"120"},null,8,["label"]),a(u,{prop:"express_no",label:l(t)("expressNo"),"min-width":"120"},null,8,["label"]),a(u,{label:l(t)("operation"),fixed:"right",align:"right","min-width":"120"},{default:o(({row:i})=>[a(p,{type:"primary",link:"",onClick:V=>k(i)},{default:o(()=>[d(s(l(t)("edit")),1)]),_:2},1032,["onClick"]),a(p,{type:"primary",link:"",onClick:V=>E(i.company_id)},{default:o(()=>[d(s(l(t)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[F,e.loading]]),c("div",oe,[a(z,{"current-page":e.page,"onUpdate:current-page":n[3]||(n[3]=i=>e.page=i),"page-size":e.limit,"onUpdate:page-size":n[4]||(n[4]=i=>e.limit=i),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:n[5]||(n[5]=i=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{ke as default};
