import{d as z,x as N,n as A,r as f,h,c as P,e as n,w as s,a as d,t as p,u as i,i as u,q as a,R as $,s as j,a5 as L,cF as b,E as S,ad as U,ae as V,W as F,a7 as R,Y as q}from"./index-6405d5ac.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                  */import{f as M,h as W}from"./api-c38e4264.js";import Y from"./api_edit-8a3eafeb.js";/* empty css                  *//* empty css                   *//* empty css                     */import"./_plugin-vue_export-helper-c27b6911.js";const G={class:"main-container"},H={class:"flex justify-between items-center"},I={class:"text-page-title"},J={class:"mt-[10px]"},K={class:"mt-[16px] flex justify-end"},xe=z({__name:"index",setup(O){const x=N().meta.title,e=A({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{api_name:"",order:"",sort:""}});f();const k=o=>{let t="";o.order=="ascending"?t="asc":o.order=="descending"&&(t="desc"),t&&(e.searchParam.order=o.prop,e.searchParam.sort=t),r()},r=(o=1)=>{e.loading=!0,e.page=o,M().then(t=>{e.loading=!1,e.data=t.data}).catch(()=>{e.loading=!1})};r();const g=f(null),v=()=>{g.value.setFormData(),g.value.showDialog=!0},y=o=>{L.confirm(a("apiDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{W(o).then(()=>{r()}).catch(()=>{})})},C=o=>{b.push("/fengchao/api/sandbox?id="+o)},E=o=>{b.push("/fengchao/api/sandbox1?id="+o)};return(o,t)=>{const c=S,m=U,w=V,B=F,D=R,T=q;return h(),P("div",G,[n(D,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[d("div",H,[d("span",I,p(i(x)),1),n(c,{type:"primary",onClick:v},{default:s(()=>[u(p(i(a)("addApi")),1)]),_:1})]),d("div",J,[$((h(),j(w,{data:e.data,size:"large",onSortChange:k},{empty:s(()=>[d("span",null,p(e.loading?"":i(a)("emptyData")),1)]),default:s(()=>[n(m,{prop:"api_name",label:i(a)("apiName"),"min-width":"120"},null,8,["label"]),n(m,{prop:"api_key",label:i(a)("api_key"),"min-width":"120"},null,8,["label"]),n(m,{prop:"callback_url",label:i(a)("callbackUrl"),"min-width":"120"},null,8,["label"]),n(m,{label:i(a)("operation"),fixed:"right",align:"right","min-width":"120"},{default:s(({row:l})=>[n(c,{type:"primary",link:"",onClick:_=>C(l.id)},{default:s(()=>[u(p(i(a)("sandbox")),1)]),_:2},1032,["onClick"]),n(c,{type:"primary",link:"",onClick:_=>E(l.id)},{default:s(()=>[u(p(i(a)("sandbox1")),1)]),_:2},1032,["onClick"]),n(c,{type:"primary",link:"",onClick:_=>y(l.id)},{default:s(()=>[u(p(i(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[T,e.loading]]),d("div",K,[n(B,{"current-page":e.page,"onUpdate:current-page":t[0]||(t[0]=l=>e.page=l),"page-size":e.limit,"onUpdate:page-size":t[1]||(t[1]=l=>e.limit=l),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[2]||(t[2]=l=>r()),onCurrentChange:r},null,8,["current-page","page-size","total"])])]),n(Y,{ref_key:"editapiDialog",ref:g,onComplete:r},null,512)]),_:1})])}}});export{xe as default};
