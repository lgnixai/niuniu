import{d as e,r as a,p as s,aS as t,F as l,o as r,c as d,w as o,b as c,V as n,ai as u,W as i,f as p,y as f,n as x,a as v,i as m,C as _,ah as k,z as y,u as h,aT as g,A as b,aU as C,D as j,_ as w}from"./index-06110d51.js";import{M as A}from"./mescroll-empty.5d0f3d24.js";import"./mescroll-i18n.8d7056c6.js";const S=w(e({__name:"address",setup(e){const w=a(!0),S=a(0),F=a([{name:"快递地址",key:"address"},{name:"同城配送地址",key:"location_address"}]),V=a([]);a([]);const z=a(""),D=a("");s((e=>{z.value=e.type||"",D.value=e.source||"",e.type&&(S.value="address"==e.type?0:1)})),t({}).then((({data:e})=>{const a=[],s=[];e.forEach((e=>{"address"==e.type?a.push(e):s.push(e)})),D.value?V.value=0==S.value?a:s:V.value=e,w.value=!1})).catch((()=>{w.value=!1}));const E=()=>{const e=`/addon/tk_jhkd/pages/address/${F.value[S.value].key}_edit`;v({url:e,param:{type:F.value[S.value].key,source:D.value}})};a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,a)=>{const s=m,t=j,l=_,z=k;return w.value?p("v-if",!0):(r(),d(s,{key:0,class:"address bg-[var(--page-bg-color)] min-h-[100vh]",style:x(e.themeColor())},{default:o((()=>[c(z,{"scroll-y":"true"},{default:o((()=>[V.value.length?(r(),d(s,{key:0,class:"sidebar-margin pt-[var(--top-m)]"},{default:o((()=>[(r(!0),n(i,null,u(V.value,((e,a)=>(r(),d(s,{class:"mb-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden"},{default:o((()=>[c(s,{class:"flex flex-col card-template"},{default:o((()=>[c(s,{class:"flex-1 line-feed mr-[20rpx]",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){v({url:a.back,mode:"redirectTo"})}}))})(e)},{default:o((()=>[c(s,{class:"flex items-center"},{default:o((()=>[c(s,{class:"text-[#333] text-[30rpx] leading-[34rpx] font-500"},{default:o((()=>[f(y(e.name),1)])),_:2},1024),c(t,{class:"text-[#333] text-[30rpx] ml-[10rpx]"},{default:o((()=>[f(y(h(g)(e.mobile)),1)])),_:2},1024)])),_:2},1024),c(s,{class:"mt-[16rpx] text-[26rpx] line-feed text-[var(--text-color-light9)] leading-[1.4]"},{default:o((()=>[f(y(e.full_address),1)])),_:2},1024)])),_:2},1032,["onClick"]),c(s,{class:"flex justify-end pt-[26rpx]"},{default:o((()=>[c(s,{class:"flex"},{default:o((()=>[c(s,{class:"text-[26rpx]",onClick:b((a=>(e=>{const a=`/addon/tk_jhkd/pages/address/${F.value[S.value].key}_edit`;v({url:a,param:{id:e,type:F.value[S.value].key,source:D.value}})})(e.id)),["stop"])},{default:o((()=>[c(t,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[26rpx] mr-[4rpx]"}),f("编辑 ")])),_:2},1032,["onClick"]),c(s,{onClick:b((a=>{return s=e.id,void C(s).then((()=>{list.value.splice(event.index,1)})).catch();var s}),["stop"]),class:"ml-[40rpx] text-[26rpx]"},{default:o((()=>[c(t,{class:"nc-iconfont nc-icon-shanchu-yuangaizhiV6xx shrink-0 text-[26rpx] mr-[4rpx]"}),f("删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):p("v-if",!0),V.value.length?p("v-if",!0):(r(),d(A,{key:1,option:{tip:"暂无收货地址"}})),c(s,{class:"w-full footer"},{default:o((()=>[c(s,{class:"py-[var(--top-m)] px-[var(--sidebar-m)] footer w-full fixed bottom-0 left-0 right-0 box-border"},{default:o((()=>[c(l,{"hover-class":"none",class:"bg-[#3F2DA3] text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[26rpx] font-500",onClick:E},{default:o((()=>[f("创建地址")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-4cf38926"]]);export{S as default};
