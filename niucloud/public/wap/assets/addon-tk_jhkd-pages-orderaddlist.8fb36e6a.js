import{d as e,r as t,p as l,o as a,V as s,b as r,w as d,u as o,c as f,W as n,ai as c,f as i,aj as u,ak as _,i as m,ah as x,g as p,h as v,X as y,y as g,z as k,E as b,D as h,bc as I,_ as w}from"./index-06110d51.js";import{_ as j}from"./tabbar.4bca783d.js";import{_ as C}from"./pay.e6ecc795.js";import{g as R,a as z,d as M}from"./orderadd.a56c5c54.js";import{u as S,M as E}from"./useMescroll.d9213849.js";import{M as D}from"./mescroll-empty.5d0f3d24.js";import{g as U}from"./goto.1ed07f13.js";import"./pay.79dd7250.js";import"./mescroll-i18n.8d7056c6.js";const L=w(e({__name:"orderaddlist",setup(e){const w=t(null),L=t(!1),{mescrollInit:O,downCallback:q,getMescroll:A}=S(_,u);let B=t([]),G=t(!1),J=t(!1),K=t(""),P=t([]);t([]),l((e=>{K.value=e.status||"0",W()}));const V=e=>{G.value=!1;let t={page:e.num,limit:e.size,order_status:K.value};console.log(K.value),z(t).then((t=>{let l=t.data.data;1==e.num&&(B.value=[]),B.value=B.value.concat(l),e.endSuccess(l.length),G.value=!0})).catch((()=>{G.value=!0,e.endErr()}))},W=()=>{J.value=!1,P.value=[],R().then((e=>{Object.values(e.data).forEach(((e,t)=>{P.value.push(e)})),J.value=!0})).catch((()=>{J.value=!0}))};return(e,t)=>{const l=m,u=x,_=h,R=p(v("up-icon"),I),z=p(v("tabbar"),j),S=p(v("pay"),C);return a(),s(n,null,[r(l,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:d((()=>[o(J)?(a(),f(l,{key:0,class:"z-10 mb-2"},{default:d((()=>[r(u,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:d((()=>[r(l,{class:"flex whitespace-nowrap justify-around"},{default:d((()=>[(a(!0),s(n,null,c(o(P),((e,t)=>(a(),f(l,{class:y(["text-sm leading-[90rpx]",{"class-select":o(K)===e.status.toString()}]),onClick:t=>{return l=e.status,K.value=l.toString(),B.value=[],void A().resetUpScroll();var l}},{default:d((()=>[g(k(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):i("v-if",!0),r(E,{ref:"mescrollRef",onInit:o(O),onDown:o(q),onUp:V},{default:d((()=>[o(B).length>0?(a(!0),s(n,{key:0},c(o(B),((t,u)=>(a(),f(l,{class:"tk-card",key:"index"},{default:d((()=>[r(l,{class:"text-xs font-weight",onClick:e=>o(U)("/addon/fengchao/pages/orderdetail?id="+t.orderInfo.id)},{default:d((()=>[g("订单号:"+k(t.order_id),1)])),_:2},1032,["onClick"]),r(l,{class:"fb flex justify-between"},{default:d((()=>[r(l,{class:"text-xs font-weight"},{default:d((()=>[t.orderInfo.delivery_id?(a(),f(l,{key:0,class:"flex items-center",onClick:l=>e.copy(t.orderInfo.delivery_id)},{default:d((()=>[r(_,{class:"mr-2 text-primary text-xs mt-1"},{default:d((()=>[g("运单号:"+k(t.orderInfo.delivery_id),1)])),_:2},1024),r(l,null,{default:d((()=>[r(R,{class:"border-1 rounded",name:"cut",color:"#4541c7",size:"16"})])),_:1})])),_:2},1032,["onClick"])):i("v-if",!0)])),_:2},1024)])),_:2},1024),t.orderInfo?(a(),f(l,{key:0,class:"flex justify-center mt-3"},{default:d((()=>[r(l,{class:"flex items-center"},{default:d((()=>[r(l,{class:"mr-2"},{default:d((()=>[r(_,{class:"qu-tag text-sm p-2 rounded-xl"},{default:d((()=>[g("寄")])),_:1})])),_:1}),r(l,{class:"flex flex-col items-center"},{default:d((()=>[r(l,{class:"text-sm font-bold flex"},{default:d((()=>[r(l,{class:""},{default:d((()=>[g(k(t.orderInfo.start_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),r(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:d((()=>[g(k(t.orderInfo.start_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(l,{class:"flex items-center ml-4 mr-4"},{default:d((()=>[r(l,{class:"flex"},{default:d((()=>[r(l,null,{default:d((()=>[r(R,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),r(l,null,{default:d((()=>[r(R,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),r(l,null,{default:d((()=>[r(R,{name:"arrow-right",color:"#63625f",size:"28"})])),_:1})])),_:1})])),_:1}),r(l,{class:"flex items-center"},{default:d((()=>[r(l,{class:"mr-4"},{default:d((()=>[r(_,{class:"song-tag text-sm p-2 rounded-xl"},{default:d((()=>[g("收")])),_:1})])),_:1}),r(l,{class:""},{default:d((()=>[r(l,{class:"flex flex-col items-center"},{default:d((()=>[r(l,{class:"text-sm font-bold flex"},{default:d((()=>[r(l,{class:""},{default:d((()=>[g(k(t.orderInfo.end_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),r(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:d((()=>[g(k(t.orderInfo.end_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):i("v-if",!0),r(l,{class:"flex mt-4 items-center justify-between"},{default:d((()=>[r(l,{class:"text-xs text-slate-600"},{default:d((()=>[g("下单时间:"+k(t.orderInfo.create_time),1)])),_:2},1024)])),_:2},1024),r(l,{class:"line-box1"}),t.deliveryRealInfo.fee_weight>0&&0==t.order_status?(a(),f(l,{key:1},{default:d((()=>[r(l,{class:"flex items-center mt-1 mb-2 flex text-xs font-bold p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:d((()=>[t.deliveryRealInfo.fee_weight>t.orderInfo.weight?(a(),f(l,{key:0,class:""},{default:d((()=>[g(" 超重: "+k(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight))+"kg;￥"+k(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight)*t.orderInfo.price_rule.add)+"; ",1)])),_:2},1024)):i("v-if",!0),t.deliveryRealInfo.fee_blockList?(a(!0),s(n,{key:1},c(t.deliveryRealInfo.fee_blockList,((e,t)=>(a(),f(l,{class:""},{default:d((()=>[g(k(e.name)+":￥"+k(e.fee),1)])),_:2},1024)))),256)):i("v-if",!0)])),_:2},1024),r(l,{class:"flex justify-end mt-1 items-center"},{default:d((()=>[r(l,{class:"font-bold text-red text-[28rpx]"},{default:d((()=>[g(" 需补差价:￥"+k(t.order_money),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(a(),f(l,{key:2},{default:d((()=>[r(l,{class:"flex"},{default:d((()=>[1==t.order_status?(a(),f(l,{key:0,class:"flex text-xs font-bold ml-2 p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:d((()=>[g(" 已补差价：￥ "+k(t.order_money),1)])),_:2},1024)):i("v-if",!0)])),_:2},1024)])),_:2},1024)),r(l,{class:"line-box1"}),r(l,{class:"fb items-center"},{default:d((()=>[r(l,{class:"text-xs"},{default:d((()=>[g(k(t.create_time),1)])),_:2},1024),0==t.order_status?(a(),f(l,{key:0,class:"tk-tag",onClick:e=>(e=>{var t;L.value=!0,null==(t=w.value)||t.open("jhkdOrderAddPay",e.id,"/addon/fengchao/pages/orderaddlist")})(t)},{default:d((()=>[g("立即支付")])),_:2},1032,["onClick"])):i("v-if",!0),1==t.order_status?(a(),f(l,{key:1,class:"tk-tag",onClick:e=>(async e=>{await M(e),A().resetUpScroll()})(t.id)},{default:d((()=>[g("删除订单")])),_:2},1032,["onClick"])):i("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):i("v-if",!0),!o(B).length&&o(G)?(a(),f(D,{key:1,option:{icon:o(b)("static/resource/images/empty.png")}},null,8,["option"])):i("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),r(z,{addon:"fengchao"}),r(S,{ref_key:"payRef",ref:w,onClose:t[0]||(t[0]=e=>L.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-e4fea6e7"]]);export{L as default};
