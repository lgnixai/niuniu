import{d as e,r as a,p as t,F as l,o as c,c as s,w as n,b as o,f as r,V as u,ai as i,W as p,u as d,y as m,z as x,n as _,aj as f,ak as y,aN as v,i as g,D as k,g as b,h,E as w,a as C,aO as j,B as F,aP as I,_ as V}from"./index-06110d51.js";import{u as A,M as B}from"./useMescroll.d9213849.js";import"./mescroll-i18n.8d7056c6.js";const E=V(e({__name:"account",setup(e){const{mescrollInit:V,downCallback:E,getMescroll:M}=A(y,f),N=a([]),z=a(!1),T=a("bank"),D=a(null),O=a("get");t((e=>{e.type&&(T.value=e.type),e.mode&&(O.value=e.mode)}));const P=e=>{z.value=!1;let a={page:e.num,limit:e.size,account_type:T.value};v(a).then((a=>{const t=a.data.data;1==e.num&&(N.value=[]),N.value=N.value.concat(t),e.endSuccess(t.length),z.value=!0})).catch((()=>{z.value=!0,e.endErr()}))},R=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),S=e=>{"get"==O.value?C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:T.value,mode:O.value},mode:"redirectTo"}):C({url:"/app/pages/member/apply_cash_out",param:{account_id:e.account_id,type:T.value},mode:"redirectTo"})};return(e,a)=>{const t=F,f=g,y=k,v=b(h("u-swipe-action-item"),I);return c(),s(f,{class:"w-screen h-screen bg-[var(--page-bg-color)]",style:_(e.themeColor())},{default:n((()=>[o(B,{ref_key:"mescrollRef",ref:D,onInit:d(V),down:{use:!1},onUp:P},{default:n((()=>[r(" 多嵌套一层是为了微信小程序兼容 "),(c(!0),u(p,null,i(N.value,((e,a)=>(c(),s(f,{class:"sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden",key:a},{default:n((()=>[o(v,{options:R.value,onClick:e=>(e=>{const a=N.value[e];j(a.account_id).then((()=>{N.value.splice(e,1)})).catch()})(a)},{default:n((()=>[o(f,{class:"card-template flex justify-between"},{default:n((()=>[o(f,{class:"flex items-center"},{default:n((()=>[o(f,{class:"w-[80rpx] h-[80rpx] flex items-center justify-center",onClick:a=>S(e)},{default:n((()=>["bank"==e.account_type?(c(),s(t,{key:0,class:"w-[80rpx] h-[52rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/bank-icon.png"),mode:"widthFix"},null,8,["src"])):(c(),s(t,{key:1,class:"h-[78rpx] w-[78rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/alipay-icon.png"),mode:"widthFix"},null,8,["src"]))])),_:2},1032,["onClick"]),o(f,{class:"flex flex-col ml-[20rpx]",onClick:a=>S(e)},{default:n((()=>[o(f,{class:"text-[#333] text-[28rpx]"},{default:n((()=>[m(x("bank"==e.account_type?e.bank_name:d(l)("alipayAccountNo")),1)])),_:2},1024),"bank"==e.account_type?(c(),s(f,{key:0,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:n((()=>[m(x(d(l)("endNumber"))+" "+x(e.account_no.substring(e.account_no.length-4))+x(d(l)("bankCard")),1)])),_:2},1024)):(c(),s(f,{key:1,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:n((()=>[m(x(e.account_no),1)])),_:2},1024))])),_:2},1032,["onClick"])])),_:2},1024),o(y,{class:"flex items-center nc-iconfont nc-icon-xiugaiV6xx flex-shrink-0 text-[28rpx] p-[20rpx] pr-0",onClick:a=>(e=>{C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:e.account_type,mode:O.value}})})(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),128)),o(f,{class:"card-template sidebar-margin my-[var(--top-m)] flex items-center",onClick:a[0]||(a[0]=e=>d(C)({url:"/app/pages/member/account_edit",param:{type:T.value,mode:O.value}}))},{default:n((()=>[o(y,{class:"nc-iconfont nc-icon-jiahaoV6xx text-[30rpx]"}),o(y,{class:"text-[28rpx] ml-[10rpx] flex-1"},{default:n((()=>[m(x("bank"==T.value?d(l)("addBankCard"):d(l)("addAlipayAccount")),1)])),_:1}),o(y,{class:"nc-iconfont nc-icon-youV6xx text-[24rpx] text-[var(--text-color-light6)]"})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-af754c8f"]]);export{E as default};
