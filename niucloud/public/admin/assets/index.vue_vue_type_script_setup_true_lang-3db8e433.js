import{_ as y}from"./index.vue_vue_type_style_index_0_lang-780ddbe3.js";import{d as C,r as o,l as V,b9 as k,G as U,h as D,c as H,e as r,u as m,br as x,bC as S,F as $,A as c}from"./index-a7efb343.js";const w=C({__name:"index",props:{modelValue:{type:String,default:""},mode:{type:String,default:"simple"},height:{type:Number,default:600}},emits:["update:modelValue","handleBlur"],setup(f,{emit:p}){const l=f,g=o(),s=o(null),u=o(null),n=V({get(){return l.modelValue},set(e){p("update:modelValue",e)}});let t=null;const i={};i.token=k(),i["site-id"]=U.get("siteId")||0;const _="/adminapi/".substr(-1)=="/"?"/adminapi/":"/adminapi//",h=o({debug:!1,UEDITOR_HOME_URL:"/admin/ueditor/",UEDITOR_CORS_URL:location.origin+"/admin/ueditor/",serverUrl:`${_}sys/ueditor`,serverHeaders:i,autoHeightEnabled:!1,initialFrameHeight:l.height,initialFrameWidth:"100%",toolbarCallback:function(e,a){switch(t=a,e){case"insertimage":return s.value.showDialog=!0,!0;case"insertvideo":return u.value.showDialog=!0,!0}}}),v=e=>{e.forEach(a=>{t==null||t.execCommand("insertHtml",`<img src="${c(a.url)}">`)})},R=e=>{t==null||t.execCommand("insertHtml",`<video src="${c(e.url)}">`)};return(e,a)=>{const d=y;return D(),H($,null,[r(d,{type:"image",ref_key:"imageRef",ref:s,limit:"",onConfirm:v},null,512),r(d,{type:"video",ref_key:"videoRef",ref:u,onConfirm:R},null,512),r(m(S),{modelValue:m(n),"onUpdate:modelValue":a[0]||(a[0]=b=>x(n)?n.value=b:null),config:h.value,editorDependencies:["ueditor.config.js","ueditor.all.js"],ref_key:"editorRef",ref:g},null,8,["modelValue","config","editorDependencies"])],64)}}});export{w as _};
